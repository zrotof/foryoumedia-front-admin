<div class="list-shows">
    <h1>ÉMISSIONS DU JOUR</h1>
    <h3>Liste des émissions programmées de : <span class="current-date">{{this.currentDate}}</span> </h3>

        <div class="actions">
            <button class="add-show" type="button" (click)="onAddProgram()"> 
                <i class="pi pi-plus"></i>
                Programmer Une Émission
            </button>
        </div>

        <div *ngIf="showsList.length == 0; else tableau">
            <span>Aucune émission n'a encore été programmée pour ce jour.</span>
        </div>

        <ng-template #tableau>
            <p-table  [value]="showsList" responsiveLayout="scroll">
                
                <ng-template pTemplate="header">
                    <tr>
                        <th class="count"></th>
                        <th pSortableColumn="name">Nom <p-sortIcon field="name"></p-sortIcon></th>
                        <th>Image</th>
                        <th>Description</th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-show let-rowIndex="rowIndex">
                    <tr>
                        <td class="count">{{rowIndex + 1}}</td>
                        <td>{{show.name }}</td>
                        <td><img [src]="show.image" [alt]="show.name" width="100" class="p-shadow-4" /></td>
                        <td>{{show.description}}</td>
                        <td class="delete-edit">
                        
                            <i (click)="editShow(show.id)" class="pi pi-pencil"></i>
                            <i (click)="deleteShow(show.id)"class="pi pi-trash"></i>
                        
                        </td>
                    </tr>
                </ng-template>

            </p-table>
            <p-confirmDialog header="Confirmation de suppression" acceptLabel="Oui" rejectLabel="Non" [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '50vw'}">
            </p-confirmDialog>
            <p-toast position="top-right"></p-toast> 
        </ng-template>
</div>